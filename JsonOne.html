<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>Intermediate</title>
    <meta name="description" content="The HTML5 Herald">
    <meta name="Jude Amos" content="SitePoint">
    <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
    <script>
        let requestURL = 'https://raw.githubusercontent.com/ewomackQA/JSONDataRepo/master/example.json';
        let request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();
        request.onload = function () {
            let requestData = request.response;
            let squad = "Squad Name: " + requestData['squadName'];
            let homeTown = "Home Town: " + requestData['homeTown'];
            let formed = "Formed: " + requestData['formed'];
            let secretBase = "Secret Base: " + requestData['secretBase'];
            let active = "Acive: " + requestData['active'];
            let para = document.createElement('P');
            let members = requestData.members;
            let store;
            store = squad + "<br>" + homeTown + "<br>" + formed + "<br>" + secretBase + "<br>" + active + "<br>" + "Members: <br><br>";
            
            for(let j = 0; j < lengthOfMembers(members); j++){
                store += "Name: " + members[j].name + "<br>" + "Age: " + members[j].age + "<br>" + "Secret Identity: " + members[j].secretIdentity + "<br>" + "Powers:<br>";
            for (let i = 0; i < members[j].powers.length; i++) {
                store += members[j].powers[i] + "<br>";
                if(i === (members[j].powers.length - 1)){ store += "<br>";}
            }
            }
            para.innerHTML = store;
            document.getElementsByTagName('body')[0].appendChild(para);

        }


        function lengthOfMembers(obj) {
            var c = 0;
            for (var key in obj) {
                if (obj.hasOwnProperty(key)){
                    c++;
                }
            }
            return c;
        }
    </script>

</body>

</html>